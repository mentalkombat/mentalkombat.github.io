!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="dist/",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var s=class{constructor(t,e,i,s,n){this.url=t,this.positionOnImg=e,this.sizeOnImg=i,this.speed="number"==typeof s?s:0,this.frames=n,this.index=0,this.newSpriteFramesNumber=0,this.isNewSpriteActive=!1,this.oldSpriteOptions=null}update(t){this.index+=this.speed*t}applyingNewSprite(){this.index<this.state+this.newSpriteFramesNumber?(console.log("attack"),this.isNewSpriteActive=!0):!0===this.isNewSpriteActive&&(console.log("end attack"),this.isNewSpriteActive=!1,this.url=this.oldSpriteOptions.url,this.positionOnImg=this.oldSpriteOptions.positionOnImg,this.sizeOnImg=this.oldSpriteOptions.sizeOnImg,this.frames=this.oldSpriteOptions.frames)}render(t){let e;if(this.applyingNewSprite(),this.speed>0){let t=this.frames.length,i=Math.floor(this.index);e=this.frames[i%t]}else e=0;let i=this.positionOnImg[0],s=this.positionOnImg[1];i+=e*this.sizeOnImg[0],t.drawImage(this.url,i,s,this.sizeOnImg[0],this.sizeOnImg[1],0,0,this.sizeOnImg[0],this.sizeOnImg[1])}};var n=class{constructor(){this.resourceCache={},this.readyCallbacks=[],this.images={}}load(t){let e=i(40);t.forEach(t=>this.images[t]=e("./"+t));for(let t in this.images)this._load(t)}_load(t){if(this.resourceCache[t])return this.resourceCache[t];var e=new Image;e.onload=(()=>{this.resourceCache[t]=e,this.isReady()&&this.readyCallbacks.forEach(function(t){t()})}),this.resourceCache[t]=!1,e.src=this.images[t]}get(t){return this.resourceCache[t]}isReady(){var t=!0;for(var e in this.resourceCache)this.resourceCache.hasOwnProperty(e)&&!this.resourceCache[e]&&(t=!1);return t}onReady(t){this.readyCallbacks.push(t)}};var r=class{constructor(t,e){this.positionOnCanvas=t,this.sprite=e}changesprite(t){this.sprite=t}};var a=class extends r{attack(t){let e={url:this.sprite.url,positionOnImg:this.sprite.positionOnImg,sizeOnImg:this.sprite.sizeOnImg,frames:this.sprite.frames};super.changesprite(t),this.sprite.state=this.sprite.index,this.sprite.newSpriteFramesNumber=t.frames.length,this.sprite.oldSpriteOptions=e}};let h=["Terrible","Vile","Monstrous","Spiteful","Snotty","Demonic","Ghastly","Damnable","Abominable"],o=["Ogr","Goblin","Zombie","Bugbear","Demon","Scarecrow","Lucifer","Undead","Devil","Vampire","Ghoul"],p=["Aaron","Bob","Brody","Charlie","Cole","Dylan","Eric","Grant","Henry","Jack","Morgan","Sherie","York"],g=["head1.png","head2.png","head3.png","head4.png","head5.png"],l=["body1.png","body2.png","body3.png","body4.png","body5.png"],c=["legs1.png","legs2.png","legs3.png","legs4.png","legs5.png"];var d=class{constructor(t,e){this.positionOnCanvas=t,this.name=`${this.getRandomElement(h)} ${this.getRandomElement(o)} ${this.getRandomElement(p)}`,this.sprites=[],this.booleanValuesForAnimation=[[!0],[!0],[!0]],this.enemyGeneration(e)}getRandomElement(t){return t[Math.floor(Math.random()*t.length)]}enemyGeneration(t){let e=this.positionOnCanvas[0],i=this.positionOnCanvas[1];this.bodyParts={legs:{url:this.getRandomElement(c),startPosition:[e+0,i+205]},body:{url:this.getRandomElement(l),startPosition:[e-5,i+120]},head:{url:this.getRandomElement(g),startPosition:[e+45,i+0]}};for(let e in this.bodyParts)this.sprites.push(new r([this.bodyParts[e].startPosition[0],this.bodyParts[e].startPosition[1]],new s(t.get(this.bodyParts[e].url),[0,0],[200,200])))}idleAnimate(t){let e=[{isVertical:0,distance:2,speed:6},{isVertical:0,distance:1,speed:3},{isVertical:1,distance:3,speed:10}],i=0;for(let s in this.bodyParts)this.changeAnimatePosition(this.booleanValuesForAnimation[i],this.sprites[i],t,this.bodyParts[s].startPosition,e[i].isVertical,e[i].distance,e[i].speed),i++}changeAnimatePosition(t,e,i,s,n,r,a){!0===t[0]&&e.positionOnCanvas[n]>s[n]+r&&(t[0]=!1),!1===t[0]&&e.positionOnCanvas[n]<s[n]-r&&(t[0]=!0),a=t[0]?a:-a,e.positionOnCanvas[n]+=a*i}};var m=class{constructor(t,e,i,s,n){this.x=t,this.y=e,this.radius=i,this.color=n,this.ctx=s,this.draw=(()=>{this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.fill(),this.ctx.closePath})}update(){}};var u=class{constructor(t,e,i,s,n){this.isWheelStop=!1,this.imgWheel=t,this.context=e,this.width=i,this.height=s,this.ang=n,this.Spell1=new m(630,500,70,this.context,"#2185C5"),this.Spell2=new m(500,330,70,this.context,"#7ECEFD"),this.Spell3=new m(630,190,70,this.context,"#FFF6E5"),this.Spell4=new m(810,330,70,this.context,"#FF7F66"),this.imgWheel.onload=(()=>{animateWheel()})}animateWheel(){if(!this.isWheelStop){this.imgWheel;let t=this.imgWheel,e=t.width,i=t.height;this.context.save(),this.context.clearRect(0,0,this.width,this.height),this.context.translate(this.width/2,this.height/2),this.context.rotate(Math.PI/180*(this.ang+=.1)),this.context.translate(-this.width/2,-this.height/2),this.context.drawImage(this.imgWheel,this.width/2-e/2,this.height/2-i/2,e,i),this.Spell1.draw(),this.Spell2.draw(),this.Spell3.draw(),this.Spell4.draw(),this.context.restore(),this.checkIsWheel(),requestAnimationFrame(this.animateWheel.bind(this))}}checkIsWheel(){this.context.canvas.addEventListener("mousemove",function(t){let e=t.x,i=t.y;e-760<=280&&e-760>-280&&i-380<=280&&i-380>-280?this.stopWheel():(this.isWheelStop=!1,this.context.restore(),this.animateWheel())}),this.checkIsWheel.bind(this)}stopWheel(){this.isWheelStop=!0,this.context.save(),this.context.clearRect(0,0,this.width,this.height),this.context.drawImage(this.imgWheel,this.width/2-this.imgWheel.width/2,this.height/2-this.imgWheel.height/2,this.imgWheel.width,this.imgWheel.height),this.Spell1.draw(),this.Spell2.draw(),this.Spell3.draw(),this.Spell4.draw()}};let f,x={x:null,y:null};var w=class{start(t){this.createCanvas(t),this.resources=new n,this.resources.load(["player-sprite.png","background.jpg","head1.png","head2.png","head3.png","head4.png","head5.png","body1.png","body2.png","body3.png","body4.png","body5.png","legs1.png","legs2.png","legs3.png","legs4.png","legs5.png"]),this.resources.onReady(()=>this.init())}createCanvas(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=1280,this.canvas.height=720,t.appendChild(this.canvas),this.ang=0,this.framesPerSeconds=70,this.imgWheel=new Image,this.imgWheel.src="/src/img/wheel.png",this.context.canvas.addEventListener("mousemove",function(t){x.x=t.x,x.y=t.y})}init(){this.background=this.resources.get("background.jpg"),this.player=new a([100,20],new s(this.resources.get("player-sprite.png"),[0,0],[634,464],5,[0,1,2,1])),this.enemy=new d([900,70],this.resources),document.querySelector("button").addEventListener("click",()=>{this.player.attack(new s(this.resources.get("player-sprite.png"),[0,464],[634,464],5,[0,1,2,3,4,0]))}),this.startWheel=null,this.context.canvas.addEventListener("click",t=>{t.pageX,t.pageY,console.log(t.pageX-t.target.offsetLeft,t.pageY-t.target.offsetTop),t.pageX-t.target.offsetLeft>600&&t.pageY-t.target.offsetTop<200&&t.pageX-t.target.offsetLeft<930&&t.pageY-t.target.offsetTop>160&&(this.startWheel=!0,this.SpellWindow=new u(this.imgWheel,this.context,this.canvas.width,this.canvas.height,this.framesPerSeconds,this.ang),this.SpellWindow.animateWheel(),requestAnimationFrame(this.main.bind(this)))}),this.lastTime=Date.now(),this.main()}main(){let t=Date.now(),e=(t-this.lastTime)/1e3;this.update(e),this.render(),this.lastTime=t,this.drawBtnStartGame=(t=>{this.context.fillStyle=t,this.context.font="italic 38pt Arial",f=this.context.fillText("START GAME",600,200)}),this.drawBtnStartGame("red"),x.x>728&&x.y>162&&x.x<1040&&x.y<200&&this.drawBtnStartGame("blue"),this.startWheel&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.main.bind(this)}update(t){this.player.sprite.update(t),this.enemy.idleAnimate(t)}render(){this.context.drawImage(this.background,0,0,this.canvas.width,this.canvas.height),this.renderEntity(this.player),this.enemy.sprites.forEach(t=>{this.renderEntity(t)})}renderEntity(t){this.context.save(),this.context.translate(t.positionOnCanvas[0],t.positionOnCanvas[1]),t.sprite.render(this.context),this.context.restore()}};i(45),i(1);(new w).start(document.body)},function(t,e){},function(t,e,i){t.exports=i.p+"img/wheel2.png"},function(t,e,i){t.exports=i.p+"img/wheel.png"},function(t,e,i){t.exports=i.p+"img/wheel.jpg"},function(t,e,i){t.exports=i.p+"img/water-explosion-special-effect-fx-animation-frames-sprite-sheet-vortex-M6E8H7.jpg"},function(t,e,i){t.exports=i.p+"img/sprite-sheet-water-wave-splashes-260nw-535514053.jpg"},function(t,e,i){t.exports=i.p+"img/sprite-sheet-water-trap-splash-260nw-1061569625.jpg"},function(t,e,i){t.exports=i.p+"img/sprite-sheet-water-pillar-trap-260nw-1040354470.jpg"},function(t,e,i){t.exports=i.p+"img/sprite-sheet-fire-torch-animation-260nw-1050560345.jpg"},function(t,e,i){t.exports=i.p+"img/spell_wheel.png"},function(t,e,i){t.exports=i.p+"img/player-sprite.png"},function(t,e,i){t.exports=i.p+"img/player-idle-sprite.png"},function(t,e,i){t.exports=i.p+"img/player-attack-sprite.png"},function(t,e,i){t.exports=i.p+"img/legs5.png"},function(t,e,i){t.exports=i.p+"img/legs4.png"},function(t,e,i){t.exports=i.p+"img/legs3.png"},function(t,e,i){t.exports=i.p+"img/legs2.png"},function(t,e,i){t.exports=i.p+"img/legs1.png"},function(t,e,i){t.exports=i.p+"img/images.jpg"},function(t,e,i){t.exports=i.p+"img/imageproxy.jpg"},function(t,e,i){t.exports=i.p+"img/head5.png"},function(t,e,i){t.exports=i.p+"img/head4_1.png"},function(t,e,i){t.exports=i.p+"img/head4.png"},function(t,e,i){t.exports=i.p+"img/head3.png"},function(t,e,i){t.exports=i.p+"img/head2.png"},function(t,e,i){t.exports=i.p+"img/head1.png"},function(t,e,i){t.exports=i.p+"img/fire-explosion-special-effect-fx-animation-frames-sprite-sheet-vortex-M6E8H8.jpg"},function(t,e,i){t.exports=i.p+"img/enemy-idle-sprite.png"},function(t,e,i){t.exports=i.p+"img/d5508e88029e715cad30397e553fa630.jpg"},function(t,e,i){t.exports=i.p+"img/body5.png"},function(t,e,i){t.exports=i.p+"img/body4.png"},function(t,e,i){t.exports=i.p+"img/body3.png"},function(t,e,i){t.exports=i.p+"img/body2.png"},function(t,e,i){t.exports=i.p+"img/body1.png"},function(t,e,i){t.exports=i.p+"img/background.jpg"},function(t,e,i){t.exports=i.p+"img/Sprites-JenniferBaldwin.gif"},function(t,e,i){t.exports=i.p+"img/Elements-0.png"},function(t,e,i){t.exports=i.p+"img/Dragon_Breath_noBG.png"},function(t,e,i){t.exports=i.p+"img/88b56c648431076fb611f0c0cbbdc1bd.png"},function(t,e,i){var s={"./88b56c648431076fb611f0c0cbbdc1bd.png":39,"./Dragon_Breath_noBG.png":38,"./Elements-0.png":37,"./Sprites-JenniferBaldwin.gif":36,"./background.jpg":35,"./body1.png":34,"./body2.png":33,"./body3.png":32,"./body4.png":31,"./body5.png":30,"./d5508e88029e715cad30397e553fa630.jpg":29,"./enemy-idle-sprite.png":28,"./fire-explosion-special-effect-fx-animation-frames-sprite-sheet-vortex-M6E8H8.jpg":27,"./head1.png":26,"./head2.png":25,"./head3.png":24,"./head4.png":23,"./head4_1.png":22,"./head5.png":21,"./imageproxy.jpg":20,"./images.jpg":19,"./legs1.png":18,"./legs2.png":17,"./legs3.png":16,"./legs4.png":15,"./legs5.png":14,"./player-attack-sprite.png":13,"./player-idle-sprite.png":12,"./player-sprite.png":11,"./spell_wheel.png":10,"./sprite-sheet-fire-torch-animation-260nw-1050560345.jpg":9,"./sprite-sheet-water-pillar-trap-260nw-1040354470.jpg":8,"./sprite-sheet-water-trap-splash-260nw-1061569625.jpg":7,"./sprite-sheet-water-wave-splashes-260nw-535514053.jpg":6,"./water-explosion-special-effect-fx-animation-frames-sprite-sheet-vortex-M6E8H7.jpg":5,"./wheel.jpg":4,"./wheel.png":3,"./wheel2.png":2};function n(t){var e=r(t);return i(e)}function r(t){var e=s[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id=40},,,,,function(t,e){}]);